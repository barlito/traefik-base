api:
  dashboard: true
  insecure: false  # Disable insecure API access on port 8080

entryPoints:
  http:
    address: :80
    http2:
      maxConcurrentStreams: 250
  https:
    address: :443
    http2:
      maxConcurrentStreams: 250
    http3:
      advertisedPort: 8443  # Announce HTTP/3 on external port 8443

global:
  sendAnonymousUsage: false

log:
  level: DEBUG  # Verbose for local development

# No access logs in local - use docker service logs instead

providers:
  swarm:
    endpoint: unix:///var/run/docker.sock
    exposedByDefault: false
    watch: true
    network: traefik_traefik_proxy
  file:
    filename: /etc/traefik/dynamic/config.yml
    watch: true
